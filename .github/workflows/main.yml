# This is a basic workflow to help you get started with Actions

name: CI

# Controls when the workflow will run
on:
  # Triggers the workflow on push or pull request events but only for the master branch
  push:
    branches: [ master ]
  pull_request:
    branches: [ master ]


jobs:
    deploy:
        runs-on: ubuntu-latest
        steps:
        - uses: elliottpope/cloudfoundry-cli-action@v7
          with:
            CF_API: https://api.paas-ta.org
            # Username for API authentication
            USERNAME: ${{ secrets.CF_USER }}
            # Password for API authentication
            PASSWORD: ${{ secrets.CF_PASSWORD }}
            COMMAND: cf push -b https://github.com/cloudfoundry/ruby-buildpack.git
